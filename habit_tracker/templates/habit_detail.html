<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ –ø—Ä–∏–≤—ã—á–∫–∏: {{ habit.name }}</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <a href="{{ url_for('main-page') }}" class="back-link">&larr; –ö —Å–ø–∏—Å–∫—É –ø—Ä–∏–≤—ã—á–µ–∫</a>
        <h1>{{ habit.name }}</h1>
        <p class="streak">–¢–µ–∫—É—â–∞—è —Å–µ—Ä–∏—è: üî• {{ habit.streak }}</p>

        <div class="edit-form">
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</h2>
            <form action="{{ url_for('edit_habit_from_form', habit_id=habit.id) }}" method="post">
                <input type="text" name="name" value="{{ habit.name }}" required>
                <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>

        <div class="marks-history">
            <h2>–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π</h2>
            {% if habit.marks %}
                <ul>
                    {% for mark in habit.marks|sort(reverse=True) %}
                    <li>{{ mark.strftime('%d.%m.%Y') if mark is date else mark }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–º–µ—Ç–æ–∫.</p>
            {% endif %}
        </div>

        <div class="delete-action">
            <form action="{{ url_for('delete_habit_from_form', habit_id=habit.id) }}" method="post" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ø—Ä–∏–≤—ã—á–∫—É?');">
                <button type="submit" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É</button>
            </form>
        </div>
    </div>
</body>
</html>